{"ast":null,"code":"export default {\n  name: \"MovieAdvertise\",\n  data() {\n    return {};\n  }\n};","map":{"version":3,"mappings":"AAoIA;EACAA;EACAC;IACA,QAEA;EACA;AAEA","names":["name","data"],"sourceRoot":"src/views/Home","sources":["MovieAdvertise.vue"],"sourcesContent":["<template>\r\n  <div class=\"Plan\">\r\n    <!--搜索-->\r\n    <div class=\"top\">\r\n      <el-col :span=\"15\">\r\n        <el-input\r\n            placeholder=\"请输入电影名\"\r\n            class=\"input-with-select\"\r\n            style=\"width: 100%\"\r\n            v-model=\"searchContent\"\r\n            clearable\r\n            @input=\"handleSearch\"\r\n        >\r\n          <el-button slot=\"append\" icon=\"el-icon-search\">搜索</el-button>\r\n        </el-input>\r\n      </el-col>\r\n      <el-col :span=\"2\" :offset=\"1\">\r\n        <el-button type=\"primary\" size=\"small\" @click=\"addMovie\"\r\n        >添加宣传</el-button\r\n        >\r\n      </el-col>\r\n    </div>\r\n    <!-- 表格 -->\r\n    <div class=\"plan-table\">\r\n      <el-table border :data=\"adList\">\r\n        <el-table-column\r\n            label=\"电影名\"\r\n            width=\"200\"\r\n            show-overflow-tooltip\r\n            prop=\"name\"\r\n            align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column label=\"宣传海报\" width=\"300\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <img :src=\"scope.row.adImage\" style=\"height: 5rem; width: 100%\" />\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n            label=\"上映时间\"\r\n            width=\"150\"\r\n            show-overflow-tooltip\r\n            prop=\"movieId.time\"\r\n            align=\"center\"\r\n        ></el-table-column>\r\n        <el-table-column align=\"center\" label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button size=\"mini\" @click=\"handleEdit(scope.row)\"\r\n            >编辑</el-button\r\n            >\r\n            <el-button\r\n                size=\"mini\"\r\n                type=\"danger\"\r\n                @click=\"handleDelete(scope.row)\"\r\n            >撤销</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <!-- 分页器 -->\r\n    <el-pagination\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"queryInfo.currentPage\"\r\n        :page-size=\"queryInfo.pageSize\"\r\n        layout=\"total, prev, pager, next, jumper\"\r\n        :total=\"queryInfo.total\"\r\n        style=\"margin-top: 20px\"\r\n    >\r\n    </el-pagination>\r\n    <!-- 添加或编辑排片对话框 -->\r\n    <div>\r\n      <el-dialog\r\n          :title=\"dialogTitle\"\r\n          :visible.sync=\"dialogFormVisible\"\r\n          :modal-append-to-body=\"false\"\r\n          v-if=\"dialogFormVisible\"\r\n          :showClose=\"false\"\r\n          :close-on-click-modal=\"false\"\r\n          top=\"10vh\"\r\n      >\r\n        <el-form\r\n            label-width=\"150px\"\r\n            :model=\"adInfo\"\r\n            :rules=\"adInfoFormrules\"\r\n            ref=\"planInfoForm\"\r\n        >\r\n          <el-form-item label=\"电影名\" prop=\"movieId\">\r\n            <el-col :span=\"16\">\r\n              <el-select\r\n                  v-model=\"adInfo.movieId\"\r\n                  clearable\r\n                  placeholder=\"请选择电影名\"\r\n                  style=\"width: 100%\"\r\n                  @change=\"UpdateMovieName\"\r\n              >\r\n                <el-option\r\n                    v-for=\"item in movieList\"\r\n                    :key=\"item._id\"\r\n                    :value=\"item._id\"\r\n                    :label=\"item.name\"\r\n                ></el-option>\r\n              </el-select>\r\n            </el-col>\r\n          </el-form-item>\r\n          <el-form-item label=\"宣传海报\" prop=\"adImage\">\r\n            <el-col :span=\"16\">\r\n              <el-upload\r\n                  class=\"avatar-uploader\"\r\n                  :action=\"`${uploadUrl}/adImage`\"\r\n                  :headers=\"getAuthHeaders()\"\r\n                  :show-file-list=\"false\"\r\n                  :on-success=\"afterAdImageUpload\"\r\n              >\r\n                <img\r\n                    v-if=\"adInfo.adImage\"\r\n                    :src=\"adInfo.adImage\"\r\n                    class=\"avatar\"\r\n                />\r\n                <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n              </el-upload>\r\n            </el-col>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"cancel\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"managePlanInfo\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name:\"MovieAdvertise\",\r\n  data(){\r\n    return{\r\n\r\n    }\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}