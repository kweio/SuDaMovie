{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'MyMain',\n  data() {\n    return {\n      userAvatar: \"\"\n    };\n  },\n  methods: {\n    async getUserInfo() {\n      // 先判断是否为登录状态\n      if (await this.isLogin()) {\n        const userId = window.localStorage.getItem(\"userId\");\n        const {\n          data: {\n            userInfo\n          }\n        } = await this.$http.get(`/oneUser/${userId}`);\n        this.userAvatar = userInfo.icon;\n      }\n    },\n    async exit() {\n      await this.$router.push({\n        path: `/`\n      });\n    }\n  },\n  mounted() {\n    this.getUserInfo();\n  }\n};","map":{"version":3,"mappings":";AA6CA;EACAA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACA;MACA;MACA;QACA;QACA;UACAF;YAAAG;UAAA;QACA;QACA;MACA;IACA;IACA;MACA;QACAC;MAEA;IACA;EACA;EACAC;IACA;EACA;AACA","names":["name","data","userAvatar","methods","userInfo","path","mounted"],"sourceRoot":"src/views/Home","sources":["MyMain.vue"],"sourcesContent":["<template>\r\n  <el-container style=\"height: 100vh;\">\r\n    <el-aside width=\"200px\" style=\"background-color: rgb(238, 241, 246)\">\r\n      <el-menu router :default-openeds=\"['1', '3']\">\r\n        <el-menu-item index=\"/home/userList\">\r\n          <i class=\"el-icon-s-custom\"></i>用户管理\r\n        </el-menu-item>\r\n        <el-submenu>\r\n          <template slot=\"title\"><i class=\"el-icon-video-camera-solid\"></i>影片管理</template>\r\n          <el-menu-item index=\"/home/addMovie\">新增电影</el-menu-item>\r\n          <el-menu-item index=\"/home/movieList\">电影列表</el-menu-item>\r\n        </el-submenu>\r\n        <el-menu-item index=\"/home/moviePlan\">\r\n          <i class=\"el-icon-s-order\"></i>场次管理\r\n        </el-menu-item>\r\n        <el-menu-item index=\"/home/movieCategory\">\r\n          <i class=\"el-icon-s-flag\"></i>分类管理\r\n        </el-menu-item>\r\n        <el-menu-item index=\"/home/movieHall\">\r\n          <i class=\"el-icon-s-home\"></i>影厅管理\r\n        </el-menu-item>\r\n        <el-menu-item index=\"/home/OrderList\">\r\n          <i class=\"el-icon-s-ticket\"></i>订单管理\r\n        </el-menu-item>\r\n        <el-menu-item index=\"/home/movieAdvertise\">\r\n          <i class=\"el-icon-picture\"></i>广告管理\r\n        </el-menu-item>\r\n      </el-menu>\r\n        <div class=\"block\">\r\n          <div class=\"head_portrait\"><el-avatar  :size=\"100\" :src=\"userAvatar\"></el-avatar></div>\r\n<!--          <div class=\"head_portrait\"><img :src=\"userInfo.icon\" style=\"width: 80%;height:80%\"></div>-->\r\n          <div class=\"admName\"><i>SuDa影院后台管理系统</i></div>\r\n          <div class=\"exit\"><<el-button type=\"danger\" v-on:click=\"exit\">退出</el-button></div>\r\n        </div>\r\n    </el-aside>\r\n    <el-container>\r\n      <el-main>\r\n        <router-view></router-view>\r\n      </el-main>\r\n    </el-container>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'MyMain',\r\n  data() {\r\n    return {\r\n      userAvatar: \"\",\r\n    };\r\n  },\r\n  methods:{\r\n    async getUserInfo() {\r\n      // 先判断是否为登录状态\r\n      if (await this.isLogin()) {\r\n        const userId = window.localStorage.getItem(\"userId\");\r\n        const {\r\n          data:{userInfo}\r\n        } = await this.$http.get(`/oneUser/${userId}`)\r\n        this.userAvatar = userInfo.icon\r\n      }\r\n    },\r\n    async exit(){\r\n      await this.$router.push({\r\n        path: `/`,\r\n\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getUserInfo();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.head_portrait{\r\n  text-align: center;\r\n  margin-top: 30%;\r\n}\r\n.admName{\r\n  text-align: center;\r\n  margin-top: 10%;\r\n  font-size:large;\r\n}\r\nbutton{\r\n  margin: 0 auto;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}