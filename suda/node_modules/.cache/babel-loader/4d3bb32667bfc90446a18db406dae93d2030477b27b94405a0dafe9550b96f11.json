{"ast":null,"code":"export default {\n  name: \"BackTop\",\n  data() {\n    return {\n      btnFlag: false,\n      //按钮的显示隐藏状态\n      scrollTop: 1 //距离顶部的位置\n    };\n  },\n\n  methods: {\n    // 点击图片回到顶部方法，加计时器是为了过渡顺滑\n    backTop() {\n      let timer = setInterval(() => {\n        let ispeed = Math.floor(-this.scrollTop / 5);\n        document.documentElement.scrollTop = document.body.scrollTop = this.scrollTop + ispeed;\n        if (this.scrollTop === 0) {\n          clearInterval(timer);\n        }\n      }, 16);\n    },\n    // 为了计算距离顶部的高度，当高度大于60显示回顶部图标，小于60则隐藏\n    scrollToTop() {\n      let scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\n      this.scrollTop = scrollTop;\n      if (this.scrollTop > 200) {\n        this.btnFlag = true;\n      } else {\n        this.btnFlag = false;\n      }\n    }\n  },\n  mounted() {\n    window.addEventListener(\"scroll\", this.scrollToTop, true);\n  },\n  destroyed() {\n    window.removeEventListener(\"scroll\", this.scrollToTop);\n  }\n};","map":{"version":3,"mappings":"AAcA;EACAA;EACAC;IACA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IACA;IACAC;MACA;QACA;QACAC,+DACA;QACA;UACAC;QACA;MACA;IACA;IAEA;IACAC;MACA,gBACAC,sBACAH,sCACAA;MACA;MACA;QACA;MACA;QACA;MACA;IACA;EACA;EACAI;IACAD;EACA;EACAE;IACAF;EACA;AACA","names":["name","data","btnFlag","scrollTop","methods","backTop","document","clearInterval","scrollToTop","window","mounted","destroyed"],"sourceRoot":"src/components","sources":["BackTop.vue"],"sourcesContent":["<template>\n  <div class=\"back-top\">\n    <!-- 返回顶部按钮 -->\n    <van-icon\n      v-if=\"btnFlag\"\n      name=\"back-top\"\n      @click=\"backTop\"\n      class=\"back-btn\"\n      ref=\"box\"\n    />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"BackTop\",\n  data() {\n    return {\n      btnFlag: false, //按钮的显示隐藏状态\n      scrollTop: 1, //距离顶部的位置\n    };\n  },\n  methods: {\n    // 点击图片回到顶部方法，加计时器是为了过渡顺滑\n    backTop() {\n      let timer = setInterval(() => {\n        let ispeed = Math.floor(-this.scrollTop / 5);\n        document.documentElement.scrollTop = document.body.scrollTop =\n          this.scrollTop + ispeed;\n        if (this.scrollTop === 0) {\n          clearInterval(timer);\n        }\n      }, 16);\n    },\n\n    // 为了计算距离顶部的高度，当高度大于60显示回顶部图标，小于60则隐藏\n    scrollToTop() {\n      let scrollTop =\n        window.pageYOffset ||\n        document.documentElement.scrollTop ||\n        document.body.scrollTop;\n      this.scrollTop = scrollTop;\n      if (this.scrollTop > 200) {\n        this.btnFlag = true;\n      } else {\n        this.btnFlag = false;\n      }\n    },\n  },\n  mounted() {\n    window.addEventListener(\"scroll\", this.scrollToTop, true);\n  },\n  destroyed() {\n    window.removeEventListener(\"scroll\", this.scrollToTop);\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.back-btn {\n  background-color: rgba(178, 178, 178, 0.7);\n  border-radius: 100%;\n  padding: 0.3846rem;\n  color: #fff;\n  position: fixed;\n  top: 60%;\n  right: 5%;\n  font-size: 2.3077rem;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}