{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"Mine\",\n  data() {\n    return {\n      userInfo: \"\"\n    };\n  },\n  methods: {\n    // 点击跳往个人信息页\n    async toMineInfo() {\n      // 先判断是否为登录状态\n      if (await this.isLogin()) {\n        this.$router.push(`/mineInfo`);\n      }\n    },\n    // 点击跳往我的订单页\n    async toMineOrder() {\n      // 先判断是否为登录状态\n      if (await this.isLogin()) {\n        this.$router.push(`/mineOrder`);\n      }\n    },\n    // 点击跳往想看的电影页\n    async toMineWishWatch() {\n      // 先判断是否为登录状态\n      if (await this.isLogin()) {\n        this.$router.push(`/mineWishWatch`);\n      }\n    },\n    // 点击跳往看过的电影页\n    async toMineWatched() {\n      // 先判断是否为登录状态\n      if (await this.isLogin()) {\n        this.$router.push(`/mineWatched`);\n      }\n    },\n    // 获取用户信息\n    async getUserInfo() {\n      // 先判断是否为登录状态\n      if (await this.isLogin()) {\n        const userId = window.localStorage.getItem(\"userId\");\n        const {\n          data: {\n            userInfo\n          }\n        } = await this.$http.get(`/userInfo/${userId}`);\n        this.userInfo = userInfo;\n        // console.log(this.userInfo);\n      }\n    }\n  },\n\n  created() {\n    this.getUserInfo();\n  },\n  mounted() {}\n};","map":{"version":3,"mappings":";AAgEA;EACAA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACA;IACA;MACA;MACA;QACA;MACA;IACA;IACA;IACA;MACA;MACA;QACA;MACA;IACA;IACA;IACA;MACA;MACA;QACA;MACA;IACA;IACA;IACA;MACA;MACA;QACA;MACA;IACA;IACA;IACA;MACA;MACA;QACA;QACA;UACAF;YAAAC;UAAA;QACA;QACA;QACA;MACA;IACA;EACA;;EACAE;IACA;EACA;EACAC;AACA","names":["name","data","userInfo","methods","created","mounted"],"sourceRoot":"src/views/Mine","sources":["Mine.vue"],"sourcesContent":["<template>\n  <div class=\"mine\">\n    <!-- 顶部部分 -->\n    <div class=\"header\">\n      <!-- 用户头像部分 -->\n      <div class=\"user-avatar\">\n        <!-- 未登录时 -->\n        <img src=\"@/assets/image/mine/userIcon.png\" v-if=\"!userInfo\" />\n        <!-- 登录时 -->\n        <img :src=\"userInfo.avatar\" v-else />\n      </div>\n      <!-- 用户信息部分 -->\n      <div class=\"user-info\">\n        <!-- 登录时 -->\n        <div class=\"username\">\n          <span>{{ userInfo.username || \"游客\" }}</span>\n        </div>\n        <div class=\"sign ellipsis\">\n          <span class=\"\">{{\n            userInfo.sign || \"同学很懒,什么也没留下~~~\"\n          }}</span>\n        </div>\n      </div>\n    </div>\n    <div class=\"myorder\" @click=\"toMineInfo\">\n      <div class=\"content\">\n        <van-icon name=\"user-o\" />\n        <span>个人信息</span>\n      </div>\n      <div class=\"icon\">\n        <van-icon name=\"arrow\" />\n      </div>\n    </div>\n    <div class=\"myorder\" @click=\"toMineOrder\">\n      <div class=\"content\">\n        <van-icon name=\"cart-o\" />\n        <span>我的订单</span>\n      </div>\n      <div class=\"icon\">\n        <van-icon name=\"arrow\" />\n      </div>\n    </div>\n    <div class=\"myorder\" @click=\"toMineWishWatch\">\n      <div class=\"content\">\n        <van-icon name=\"play-circle-o\" />\n        <span>想看的电影</span>\n      </div>\n      <div class=\"icon\">\n        <van-icon name=\"arrow\" />\n      </div>\n    </div>\n    <div class=\"myorder\" @click=\"toMineWatched\">\n      <div class=\"content\">\n        <van-icon name=\"smile-o\" />\n        <span>看过的电影</span>\n      </div>\n      <div class=\"icon\">\n        <van-icon name=\"arrow\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Mine\",\n  data() {\n    return {\n      userInfo: \"\",\n    };\n  },\n  methods: {\n    // 点击跳往个人信息页\n    async toMineInfo() {\n      // 先判断是否为登录状态\n      if (await this.isLogin()) {\n        this.$router.push(`/mineInfo`);\n      }\n    },\n    // 点击跳往我的订单页\n    async toMineOrder() {\n      // 先判断是否为登录状态\n      if (await this.isLogin()) {\n        this.$router.push(`/mineOrder`);\n      }\n    },\n    // 点击跳往想看的电影页\n    async toMineWishWatch() {\n      // 先判断是否为登录状态\n      if (await this.isLogin()) {\n        this.$router.push(`/mineWishWatch`);\n      }\n    },\n    // 点击跳往看过的电影页\n    async toMineWatched() {\n      // 先判断是否为登录状态\n      if (await this.isLogin()) {\n        this.$router.push(`/mineWatched`);\n      }\n    },\n    // 获取用户信息\n    async getUserInfo() {\n      // 先判断是否为登录状态\n      if (await this.isLogin()) {\n        const userId = window.localStorage.getItem(\"userId\");\n        const {\n          data: { userInfo },\n        } = await this.$http.get(`/userInfo/${userId}`);\n        this.userInfo = userInfo;\n        // console.log(this.userInfo);\n      }\n    },\n  },\n  created() {\n    this.getUserInfo();\n  },\n  mounted() {},\n};\n</script>\n<style lang=\"less\" scoped>\n.mine {\n  width: 100vw;\n  height: calc(100vh - 4.5rem);\n  background-color: #f6f6f6;\n}\n// 顶部部分样式\n.header {\n  background-color: rgb(184, 245, 255);\n  height: 19.2308rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 0 3.0769rem;\n  margin-bottom: 0.7692rem;\n  // 用户头像部分\n  .user-avatar {\n    height: 40%;\n    img {\n      box-shadow: 0 0 0.5385rem 0.3846rem rgb(206, 206, 206);\n      width: 6.9231rem;\n      height: 6.9231rem;\n      border-radius: 100%;\n    }\n  }\n  // 用户信息部分\n  .user-info {\n    font-size: 1.6923rem;\n    height: 25%;\n    width: 70%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    .sign {\n      font-size: 1.2308rem;\n    }\n  }\n}\n.myorder {\n  height: 3.8462rem;\n  background-color: #fff;\n  display: flex;\n  margin-bottom: 0.7692rem;\n  box-shadow: 0 0px 8px 8px rgba(230, 230, 230, 0.5);\n  .content {\n    padding-left: 2.3077rem;\n    text-align: left;\n    font-size: 1.5385rem;\n    flex: 1;\n    span {\n      margin-left: 0.3846rem;\n      line-height: 3.8462rem;\n    }\n  }\n  .icon {\n    width: 20%;\n    font-size: 26px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}