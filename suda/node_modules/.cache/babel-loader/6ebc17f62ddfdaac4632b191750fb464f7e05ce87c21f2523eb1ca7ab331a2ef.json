{"ast":null,"code":"'use strict';\n\nrequire(\"core-js/modules/es.array.push.js\");\nclass EventPubSub {\n  constructor(scope) {\n    this._events_ = {};\n    this.publish = this.trigger = this.emit;\n    this.subscribe = this.on;\n    this.unSubscribe = this.off;\n  }\n  on(type, handler, once) {\n    if (!handler) {\n      throw new ReferenceError('handler not defined.');\n    }\n    if (!this._events_[type]) {\n      this._events_[type] = [];\n    }\n    if (once) {\n      handler._once_ = once;\n    }\n    this._events_[type].push(handler);\n    return this;\n  }\n  once(type, handler) {\n    return this.on(type, handler, true);\n  }\n  off(type, handler) {\n    if (!this._events_[type]) {\n      return this;\n    }\n    if (!handler) {\n      throw new ReferenceError('handler not defined. if you wish to remove all handlers from the event please pass \"*\" as the handler');\n    }\n    if (handler == '*') {\n      delete this._events_[type];\n      return this;\n    }\n    const handlers = this._events_[type];\n    while (handlers.includes(handler)) {\n      handlers.splice(handlers.indexOf(handler), 1);\n    }\n    if (handlers.length < 1) {\n      delete this._events_[type];\n    }\n    return this;\n  }\n  emit(type, ...args) {\n    if (!this._events_[type]) {\n      return this.emit$(type, ...args);\n    }\n    const handlers = this._events_[type];\n    const onceHandled = [];\n    for (let handler of handlers) {\n      handler.apply(this, args);\n      if (handler._once_) {\n        onceHandled.push(handler);\n      }\n    }\n    for (let handler of onceHandled) {\n      this.off(type, handler);\n    }\n    return this.emit$(type, ...args);\n  }\n  emit$(type, ...args) {\n    if (!this._events_['*']) {\n      return this;\n    }\n    const catchAll = this._events_['*'];\n    for (let handler of catchAll) {\n      handler.call(this, type, ...args);\n    }\n    return this;\n  }\n}\nmodule.exports = EventPubSub;","map":{"version":3,"names":["EventPubSub","constructor","scope","_events_","publish","trigger","emit","subscribe","on","unSubscribe","off","type","handler","once","ReferenceError","_once_","push","handlers","includes","splice","indexOf","length","args","emit$","onceHandled","apply","catchAll","call","module","exports"],"sources":["D:/WebSpace/SuDaMovie/suda/node_modules/event-pubsub/es6.js"],"sourcesContent":["'use strict';\n\nclass EventPubSub {\n    constructor( scope ) {\n        this._events_ = {};\n        this.publish = this.trigger = this.emit;\n        this.subscribe = this.on;\n        this.unSubscribe = this.off;\n    }\n\n    on( type, handler, once ) {\n        if ( !handler ) {\n            throw new ReferenceError( 'handler not defined.' );\n        }\n\n        if ( !this._events_[ type ] ) {\n            this._events_[ type ] = [];\n        }\n\n         if(once){\n            handler._once_ = once;\n        }\n\n        this._events_[ type ].push( handler );\n        return this;\n    }\n\n    once( type, handler ) {\n        return this.on( type, handler, true );\n    }\n\n    off( type, handler ) {\n        if ( !this._events_[ type ] ) {\n            return this;\n        }\n\n        if ( !handler ) {\n            throw new ReferenceError( 'handler not defined. if you wish to remove all handlers from the event please pass \"*\" as the handler' );\n        }\n\n        if ( handler == '*' ) {\n            delete this._events_[ type ];\n            return this;\n        }\n\n        const handlers = this._events_[ type ];\n\n        while ( handlers.includes( handler ) ) {\n            handlers.splice(\n                handlers.indexOf( handler ),\n                1\n            );\n        }\n\n        if ( handlers.length < 1 ) {\n            delete this._events_[ type ];\n        }\n\n        return this;\n    }\n\n    emit( type, ...args ) {\n        if ( !this._events_[ type ] ) {\n            return this.emit$( type, ...args );\n        }\n\n        const handlers = this._events_[ type ];\n        const onceHandled=[];\n\n        for ( let handler of handlers ) {\n            handler.apply( this, args );\n            if(handler._once_){\n              onceHandled.push(handler);\n            }\n        }\n\n        for(let handler of onceHandled){\n          this.off(type,handler);\n        }\n\n        return this.emit$( type, ...args );\n    }\n\n    emit$( type, ...args ) {\n        if ( !this._events_[ '*' ] ) {\n            return this;\n        }\n\n        const catchAll = this._events_[ '*' ];\n\n        for ( let handler of catchAll ) {\n            handler.call( this, type, ...args );\n        }\n\n        return this;\n    }\n}\n\nmodule.exports = EventPubSub;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}