{"ast":null,"code":"import ImageSwiper from \"@/components/ImageSwiper\";\nimport ShowingList from \"@/components/ShowingList\";\nimport TabBar from \"@/components/TabBar.vue\";\nexport default {\n  name: \"HomePage\",\n  data() {\n    return {\n      // 轮播图数据\n      adList: [],\n      // 即将上映电影\n      willMovieData: [],\n      // 正在放映的电影\n      nowMovieData: []\n    };\n  },\n  components: {\n    TabBar,\n    ImageSwiper,\n    ShowingList\n  },\n  methods: {\n    // 获取电影列表\n    async getMovieList() {\n      // 获取首页即将上映数据\n      const {\n        data: {\n          willMovieData\n        }\n      } = await this.$http.get(\"/willMovie\");\n      console.log(willMovieData);\n      this.willMovieData = willMovieData;\n      // 获取首页电影列表数据\n      const {\n        data: {\n          nowMovieData\n        }\n      } = await this.$http.get(\"/nowMovie\");\n      this.nowMovieData = nowMovieData.map(obj => {\n        return obj.movieId;\n      });\n      console.log(this.nowMovieData);\n    },\n    // 获取电影宣传列表（轮播图数据）\n    async getAdList() {\n      const {\n        data\n      } = await this.$http.get('/advertise');\n      this.adList = data;\n    }\n  },\n  created() {\n    this.getAdList();\n    this.getMovieList();\n  }\n};","map":{"version":3,"mappings":"AAwCA;AACA;AACA;AACA;EACAA;EACAC;IACA;MACA;MACAC;MACA;MACAC;MACA;MACAC;IACA;EACA;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;IACA;MACA;MACA;QACAR;UAAAE;QAAA;MACA;MACAO;MACA;MACA;MACA;QACAT;UAAAG;QAAA;MACA;MACA;QACA;MACA;MACAM;IACA;IACA;IACA;MACA;QAAAT;MAAA;MACA;IACA;EACA;EACAU;IACA;IACA;EACA;AACA","names":["name","data","adList","willMovieData","nowMovieData","components","TabBar","ImageSwiper","ShowingList","methods","console","created"],"sourceRoot":"src/views/home","sources":["HomePage.vue"],"sourcesContent":["<template>\r\n  <div class=\"home\">\r\n<!--    &lt;!&ndash; 顶部搜索栏 &ndash;&gt;-->\r\n<!--    <div class=\"header-search\">-->\r\n<!--      &lt;!&ndash; 搜索区域 &ndash;&gt;-->\r\n<!--      <div class=\"search\"  @click=\"movieSearch\">-->\r\n<!--        <div class=\"serach-icon\">-->\r\n<!--          <van-icon name=\"search\" size=\"1.5rem\" />-->\r\n<!--        </div>-->\r\n<!--        <input disabled type=\"text\" placeholder=\"搜索想看的电影~\" />-->\r\n<!--      </div>-->\r\n<!--    </div>-->\r\n    <!-- 登录头部部分 -->\r\n    <div class=\"login-header\">\r\n      <i class=\"eng-title\">SuDa Movie</i>\r\n    </div>\r\n    <!-- 轮播图区域 -->\r\n    <div class=\"swiper-area\">\r\n      <ImageSwiper :list=\"adList\"> </ImageSwiper>\r\n    </div>\r\n    <!-- 即将上映 -->\r\n    <ShowingList\r\n        :Image=\"willMovieData\"\r\n        title=\"即将上映\"\r\n        v-if=\"willMovieData.length\"\r\n        payBgc=\"#faaf00\"\r\n    >\r\n    </ShowingList>\r\n    <!-- 电影列表 -->\r\n    <ShowingList :Image=\"nowMovieData\"\r\n                 title=\"正在热映\"\r\n                 v-if=\"nowMovieData.length\"\r\n                 pay=\"购票\"\r\n                 payBgc=\"#faaf00\">\r\n    </ShowingList>\r\n    <TabBar></TabBar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ImageSwiper from \"@/components/ImageSwiper\";\r\nimport ShowingList from \"@/components/ShowingList\";\r\nimport TabBar from \"@/components/TabBar.vue\";\r\nexport default {\r\n  name: \"HomePage\",\r\n  data() {\r\n    return {\r\n      // 轮播图数据\r\n      adList: [],\r\n      // 即将上映电影\r\n      willMovieData: [],\r\n      // 正在放映的电影\r\n      nowMovieData: [],\r\n    };\r\n  },\r\n  components: {\r\n    TabBar,\r\n    ImageSwiper,\r\n    ShowingList,\r\n  },\r\n  methods: {\r\n    // 获取电影列表\r\n    async getMovieList() {\r\n      // 获取首页即将上映数据\r\n      const {\r\n        data: { willMovieData },\r\n      } = await this.$http.get(\"/willMovie\");\r\n      console.log(willMovieData)\r\n      this.willMovieData = willMovieData;\r\n      // 获取首页电影列表数据\r\n      const {\r\n        data:{nowMovieData}\r\n      } = await this.$http.get(\"/nowMovie\");\r\n      this.nowMovieData = nowMovieData.map((obj) =>{\r\n        return obj.movieId\r\n      })\r\n      console.log(this.nowMovieData)\r\n    },\r\n    // 获取电影宣传列表（轮播图数据）\r\n    async getAdList() {\r\n      const {data} = await this.$http.get('/advertise')\r\n      this.adList = data\r\n    },\r\n  },\r\n  created() {\r\n    this.getAdList()\r\n    this.getMovieList()\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// 外部样式\r\n.home {\r\n  //padding: 0 0.7692rem;\r\n  height: calc(100vh - 4.5rem);\r\n  width: 100vw;\r\n  //height: 100vh ;\r\n  position: relative;\r\n  z-index: 1;\r\n  overflow: scroll;\r\n  //background-color: #009c7f;\r\n}\r\n.login-header {\r\n  padding-top: 1.5385rem;\r\n  font-size: 2.5385rem;\r\n  color: #6F9839;\r\n  text-align: center;\r\n}\r\n// 顶部导航栏样式\r\n.header-search {\r\n  background-color:#FFFFFF;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  z-index: 1000;\r\n  //padding-top: 1rem;\r\n  position: fixed;\r\n  height: 3.8462rem;\r\n  display: flex;\r\n  .search {\r\n    margin: 0 auto;\r\n    height: 100%;\r\n    //background-color: #009c7f;\r\n    display: flex;\r\n    .serach-icon {\r\n      display: flex;\r\n      align-items: center;\r\n      margin-left: 1rem;\r\n    }\r\n    input {\r\n      text-align: center;\r\n      background-color: #fff;\r\n      margin-left: 0.7692rem;\r\n      border-radius: 1.5385rem;\r\n      border: none;\r\n      outline: none;\r\n    }\r\n  }\r\n}\r\n// 轮播图区域样式\r\n.swiper-area {\r\n  margin: 1rem 0.9rem 0 0.55rem ;\r\n  border-radius: 0.7692rem;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}