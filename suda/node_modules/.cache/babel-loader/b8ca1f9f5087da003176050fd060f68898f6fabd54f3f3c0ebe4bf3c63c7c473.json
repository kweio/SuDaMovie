{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport ImageSwiper from \"@/components/ImageSwiper\";\nimport ShowingList from \"@/components/ShowingList\";\nimport TopBar from \"@/components/TopBar.vue\";\nexport default {\n  name: \"HomePage\",\n  data() {\n    return {\n      // 轮播图数据\n      adList: [],\n      // 正在热映电影数据\n      isShowingData: [],\n      // 即将上映电影数据\n      willShowingData: [],\n      // 全部电影数据\n      movieList: []\n    };\n  },\n  components: {\n    TopBar,\n    ImageSwiper,\n    ShowingList\n  },\n  methods: {\n    // 获取电影列表\n    async getMovieList() {\n      // 获取首页电影列表数据\n      const {\n        data\n      } = await this.$http.get(\"/movie\");\n      this.movieList = data;\n      // 获取首页即将上映数据\n      // const {\n      //   data: { willShowingData },\n      // } = await this.$http.get(\"/public/willShowingMovieList\");\n      // this.willShowingData = willShowingData;\n    },\n\n    // 获取电影宣传列表（轮播图数据）\n    async getAdList() {\n      const {\n        data\n      } = await this.$http.get('/advertise');\n      this.adList = data;\n    },\n    // 点击搜索触发\n    movieSearch() {\n      this.$router.push(\"/movieSearch\");\n    }\n  },\n  created() {\n    this.getAdList();\n    this.getMovieList();\n  }\n};","map":{"version":3,"mappings":";AAsCA;AACA;AACA;AACA;EACAA;EACAC;IACA;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;IACA;EACA;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;IACA;MACA;MACA;QACAT;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IAEA;;IAEA;IACA;MACA;QAAAA;MAAA;MACA;IACA;IACA;IACAU;MACA;IACA;EACA;EACAC;IACA;IACA;EACA;AACA","names":["name","data","adList","isShowingData","willShowingData","movieList","components","TopBar","ImageSwiper","ShowingList","methods","movieSearch","created"],"sourceRoot":"src/views/home","sources":["HomePage.vue"],"sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <!-- 顶部搜索栏 -->\r\n    <div class=\"header-search\">\r\n      <!-- 搜索区域 -->\r\n        <div class=\"search\"  @click=\"movieSearch\">\r\n          <div class=\"serach-icon\">\r\n            <van-icon name=\"search\" size=\"1.5rem\" />\r\n          </div>\r\n          <input disabled type=\"text\" placeholder=\"搜索想看的电影~\" />\r\n        </div>\r\n    </div>\r\n    <!-- 顶部搜索栏占位盒子 -->\r\n    <div class=\"position-box\"></div>\r\n    <!-- 轮播图区域 -->\r\n    <div class=\"swiper-area\">\r\n      <ImageSwiper :list=\"adList\"> </ImageSwiper>\r\n    </div>\r\n    <!-- 电影列表 -->\r\n    <ShowingList :Image=\"movieList\"\r\n                 title=\"电影列表\"\r\n                 v-if=\"movieList.length\"\r\n                 pay=\"详情\"\r\n                 payBgc=\"#faaf00\">\r\n    </ShowingList>\r\n<!--    &lt;!&ndash; 即将上映 &ndash;&gt;-->\r\n<!--    <ShowingList-->\r\n<!--        :Image=\"willShowingData\"-->\r\n<!--        title=\"即将上映\"-->\r\n<!--        v-if=\"willShowingData.length\"-->\r\n<!--        pay=\"想看\"-->\r\n<!--        payBgc=\"#faaf00\"-->\r\n<!--    >-->\r\n<!--    </ShowingList>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ImageSwiper from \"@/components/ImageSwiper\";\r\nimport ShowingList from \"@/components/ShowingList\";\r\nimport TopBar from \"@/components/TopBar.vue\";\r\nexport default {\r\n  name: \"HomePage\",\r\n  data() {\r\n    return {\r\n      // 轮播图数据\r\n      adList: [],\r\n      // 正在热映电影数据\r\n      isShowingData: [],\r\n      // 即将上映电影数据\r\n      willShowingData: [],\r\n      // 全部电影数据\r\n      movieList: [],\r\n    };\r\n  },\r\n  components: {\r\n    TopBar,\r\n    ImageSwiper,\r\n    ShowingList,\r\n  },\r\n  methods: {\r\n    // 获取电影列表\r\n    async getMovieList() {\r\n      // 获取首页电影列表数据\r\n      const {\r\n        data\r\n      } = await this.$http.get(\"/movie\");\r\n      this.movieList = data;\r\n      // 获取首页即将上映数据\r\n      // const {\r\n      //   data: { willShowingData },\r\n      // } = await this.$http.get(\"/public/willShowingMovieList\");\r\n      // this.willShowingData = willShowingData;\r\n\r\n    },\r\n\r\n    // 获取电影宣传列表（轮播图数据）\r\n    async getAdList() {\r\n      const {data} = await this.$http.get('/advertise')\r\n      this.adList = data\r\n    },\r\n    // 点击搜索触发\r\n    movieSearch() {\r\n      this.$router.push(\"/movieSearch\");\r\n    },\r\n  },\r\n  created() {\r\n    this.getAdList()\r\n    this.getMovieList()\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// 外部样式\r\n.home {\r\n  padding: 0 0.7692rem;\r\n  width: 100vw;\r\n  height: 100vh ;\r\n  background-color: #009c7f;\r\n}\r\n// 顶部导航栏样式\r\n.header-search {\r\n  background-color: #009c7f;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  //position: fixed;\r\n  width: 3.5rem;\r\n  height: 3.8462rem;\r\n  //display: flex;\r\n  margin-top:1rem;\r\n  .search {\r\n    margin: 0 auto;\r\n    height: 100%;\r\n    border-radius: 1.5385rem;\r\n    background-color: #fff;\r\n    display: flex;\r\n    .serach-icon {\r\n      display: flex;\r\n      align-items: center;\r\n      margin-left: 1rem;\r\n    }\r\n    input {\r\n      background-color: #fff;\r\n      margin-left: 0.7692rem;\r\n      border: none;\r\n      outline: none;\r\n    }\r\n  }\r\n}\r\n// 轮播图区域样式\r\n.swiper-area {\r\n  margin-top: 6rem;\r\n  //margin: 5.7692rem 0;\r\n  border-radius: 0.7692rem;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}