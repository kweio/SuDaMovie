{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"MyRegister\",\n  data() {\n    return {\n      checked: true,\n      //-------------分割线--------------\n      // 密码登录部分\n      user: {\n        name: \"\",\n        //用户名\n        password: \"\",\n        //密码\n        re_password: \"\"\n      }\n    };\n  },\n  methods: {\n    // 登录按钮触发\n    async register() {\n      // 密码登录\n      if (!this.user.name) {\n        return this.$dialog.alert({\n          title: \"提示\",\n          message: \"请输入用户名\",\n          theme: \"round-button\",\n          confirmButtonColor: \"#6F9839\"\n        });\n      }\n      if (!this.user.password) {\n        return this.$dialog.alert({\n          title: \"提示\",\n          message: \"请输入密码\",\n          theme: \"round-button\",\n          confirmButtonColor: \"#6F9839\"\n        });\n      }\n      if (!this.passwordCode) {\n        return this.$dialog.alert({\n          title: \"提示\",\n          message: \"请输入验证码\",\n          theme: \"round-button\",\n          confirmButtonColor: \"#6F9839\"\n        });\n      }\n      if (this.passwordCode !== this.identifyCode) {\n        return this.$dialog.alert({\n          title: \"提示\",\n          message: \"请输入正确的验证码\",\n          theme: \"round-button\",\n          confirmButtonColor: \"#6F9839\"\n        });\n      }\n      // 验证通过,发送登录请求\n      const res = await this.$http.post('/login', this.user); // eslint-disable-line\n      //保存token\n      window.localStorage.setItem(\"WebToken\", res.data.token);\n      window.localStorage.setItem(\"userId\", res.data.userID);\n      if (res.data.status !== 300) {\n        return this.$dialog.alert({\n          title: \"提示\",\n          message: res.data.message,\n          theme: \"round-button\",\n          confirmButtonColor: \"#6F9839\"\n        });\n      } else {\n        this.$toast({\n          type: 'success',\n          message: '登录成功'\n        });\n        await this.$router.push('/mine');\n      }\n    }\n  },\n  mounted() {\n    // 初始化验证码\n    this.identifyCode = \"\";\n    this.makeIdentifyCode(4);\n  }\n};","map":{"version":3,"mappings":";AAgDA;EACAA;EACAC;IACA;MACAC;MACA;MACA;MACAC;QACAH;QAAA;QACAI;QAAA;QACAC;MACA;IACA;EACA;EACAC;IACA;IACA;MACA;MACA;QACA;UACAC;UACAC;UACAC;UACAC;QACA;MACA;MACA;QACA;UACAH;UACAC;UACAC;UACAC;QACA;MACA;MACA;QACA;UACAH;UACAC;UACAC;UACAC;QACA;MACA;MACA;QACA;UACAH;UACAC;UACAC;UACAC;QACA;MACA;MACA;MACA;MACA;MACAC;MACAA;MAEA;QACA;UACAJ;UACAC;UACAC;UACAC;QACA;MACA;QACA;UACAE;UACAJ;QACA;QACA;MACA;IACA;EACA;EACAK;IACA;IACA;IACA;EACA;AACA","names":["name","data","checked","user","password","re_password","methods","title","message","theme","confirmButtonColor","window","type","mounted"],"sourceRoot":"src/views/login","sources":["MyRegister.vue"],"sourcesContent":["<template>\r\n  <div class=\"login\">\r\n    <!-- 登录内容部分 -->\r\n    <div class=\"login-container\">\r\n      <!-- 登录头部部分 -->\r\n<!--      <div class=\"login-header\">-->\r\n<!--        <i class=\"eng-title\">SuDa Movie</i>-->\r\n<!--      </div>-->\r\n      <!-- 登录内容部分 -->\r\n      <div class=\"login-content\">\r\n        <!-- 登录部分 -->\r\n        <div class=\"login-main\">\r\n          <form>\r\n            <!-- 密码登录部分 -->\r\n            <div class=\"login-phone\">\r\n              <section class=\"login-info\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"请输入用户名\"\r\n                    v-model=\"user.name\"\r\n                />\r\n              </section>\r\n              <section class=\"login-info\">\r\n                <input\r\n                    type=\"password\"\r\n                    placeholder=\"请输入密码\"\r\n                    v-model=\"user.password\"\r\n                />\r\n              </section>\r\n              <section class=\"login-info\">\r\n                <input\r\n                    type=\"password\"\r\n                    placeholder=\"请再次输入密码\"\r\n                    v-model=\"user.re_password\"\r\n                />\r\n              </section>\r\n            </div>\r\n            <button class=\"login-submit\" @click.prevent=\"register\">注册</button>\r\n            <van-checkbox v-model=\"checked\">阅读并同意<a>《？》</a>与<a>《隐私政策》</a></van-checkbox>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \"MyRegister\",\r\n  data() {\r\n    return {\r\n      checked: true,\r\n      //-------------分割线--------------\r\n      // 密码登录部分\r\n      user:{\r\n        name: \"\", //用户名\r\n        password: \"\", //密码\r\n        re_password:\"\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    // 登录按钮触发\r\n    async register() {\r\n      // 密码登录\r\n      if (!this.user.name) {\r\n        return this.$dialog.alert({\r\n          title: \"提示\",\r\n          message: \"请输入用户名\",\r\n          theme: \"round-button\",\r\n          confirmButtonColor: \"#6F9839\",\r\n        });\r\n      }\r\n      if (!this.user.password) {\r\n        return this.$dialog.alert({\r\n          title: \"提示\",\r\n          message: \"请输入密码\",\r\n          theme: \"round-button\",\r\n          confirmButtonColor: \"#6F9839\",\r\n        });\r\n      }\r\n      if (!this.passwordCode) {\r\n        return this.$dialog.alert({\r\n          title: \"提示\",\r\n          message: \"请输入验证码\",\r\n          theme: \"round-button\",\r\n          confirmButtonColor: \"#6F9839\",\r\n        });\r\n      }\r\n      if (this.passwordCode !== this.identifyCode) {\r\n        return this.$dialog.alert({\r\n          title: \"提示\",\r\n          message: \"请输入正确的验证码\",\r\n          theme: \"round-button\",\r\n          confirmButtonColor: \"#6F9839\",\r\n        });\r\n      }\r\n      // 验证通过,发送登录请求\r\n      const res = await this.$http.post('/login',this.user) // eslint-disable-line\r\n      //保存token\r\n      window.localStorage.setItem(\"WebToken\", res.data.token);\r\n      window.localStorage.setItem(\"userId\", res.data.userID);\r\n\r\n      if (res.data.status !== 300) {\r\n        return this.$dialog.alert({\r\n          title: \"提示\",\r\n          message: res.data.message,\r\n          theme: \"round-button\",\r\n          confirmButtonColor: \"#6F9839\",\r\n        });\r\n      }else {\r\n        this.$toast({\r\n          type:'success',\r\n          message:'登录成功'\r\n        });\r\n        await this.$router.push('/mine')\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    // 初始化验证码\r\n    this.identifyCode = \"\";\r\n    this.makeIdentifyCode(4);\r\n  },\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.body {\r\n  margin: 0;\r\n}\r\n\r\n/* 外部容器样式 */\r\n.login {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  /* 渐变背景 */\r\n  background: linear-gradient(125deg, #ffbe32, #b3fffa, #b6f597, #fdff79);\r\n  /* 指定背景图像的大小 */\r\n  background-size: 500%;\r\n  /* 执行动画：动画名 时长 线性的 无限次播放 */\r\n  animation: bgAnimation 15s linear infinite;\r\n}\r\n\r\n/* 定义动画 */\r\n@keyframes bgAnimation {\r\n  0% {\r\n    background-position: 0% 50%;\r\n  }\r\n  50% {\r\n    background-position: 100% 50%;\r\n  }\r\n  100% {\r\n    background-position: 0% 50%;\r\n  }\r\n}\r\n\r\n// 顶部返回栏\r\n//.header {\r\n//  height: 3.8462rem;\r\n//  display: flex;\r\n//  align-items: center;\r\n//  font-size: 2rem;\r\n//  //padding: 0 0.7692rem;\r\n//}\r\n// 登录内容部分\r\n.login-container {\r\n  //margin-top: 1.5385rem;\r\n  // 登录头部部分\r\n  .login-header {\r\n    padding-top: 3.5385rem;\r\n    font-size: 2.5385rem;\r\n    color: #6F9839;\r\n    text-align: center;\r\n\r\n    span {\r\n      font-size: 7.6923rem;\r\n    }\r\n  }\r\n\r\n  // 登录内容部分\r\n  .login-content {\r\n    // 登录部分\r\n    .login-main {\r\n      padding: 2.7692rem 3.0769rem;\r\n      // 1.手机验证码登录与密码登录部分\r\n      // 这俩部分样式都一样\r\n      .login-info {\r\n        position: relative;\r\n        width: 100%;\r\n        height: 3.0769rem;\r\n        //padding-top: 1.5385rem;\r\n        input {\r\n          width: 100%;\r\n          height: 100%;\r\n          //border: none;\r\n          border-radius: 0.3846rem;\r\n          padding: 0 1rem;\r\n          font-size: 1.0769rem;\r\n          box-sizing: border-box;\r\n          border: 0.0769rem solid transparent;\r\n        }\r\n\r\n        //input:focus {\r\n        //  border: 0.0769rem solid #6F9839;\r\n        //}\r\n        // 验证码按钮样式\r\n        .codeBtn {\r\n          position: absolute;\r\n          right: 0.9692rem;\r\n          border: none;\r\n          //padding-left: 3.3846rem;\r\n          background: transparent;\r\n          top: 50%;\r\n          transform: translate(10%, -50%);\r\n        }\r\n      }\r\n\r\n      .login-phone {\r\n        height: 11.5385rem;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-around;\r\n        // 提示部分样式\r\n        .login-tip {\r\n          text-align: justify;\r\n          color: rgb(150, 150, 150);\r\n\r\n          a {\r\n            //color: #fa209f;\r\n          }\r\n        }\r\n      }\r\n\r\n      // 登录按钮部分\r\n      .login-submit {\r\n        margin-top: 0.7692rem;\r\n        width: 100%;\r\n        font-size: 1.2308rem;\r\n        padding: 1.1538rem 0;\r\n        color: #fff;\r\n        background-color: #6F9839;\r\n        border: none;\r\n        border-radius: 0.3846rem;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}