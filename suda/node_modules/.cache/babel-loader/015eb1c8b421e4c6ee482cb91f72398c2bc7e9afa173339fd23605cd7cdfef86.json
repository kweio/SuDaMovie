{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport TopBar from \"@/components/TopBar\";\nimport BackTop from \"@/components/BackTop\";\nexport default {\n  name: \"MovieDetail\",\n  components: {\n    TopBar,\n    BackTop\n  },\n  props: [\"id\"],\n  data() {\n    return {\n      planId: \"\",\n      movieData: {},\n      //电影详情数据\n      planData: {}\n    };\n  },\n  computed: {\n    nowDay: function () {\n      return new Date();\n    }\n  },\n  methods: {\n    // 顶部返回按钮点击触发\n    backIconClick() {\n      this.$router.back();\n    },\n    // 获取电影详情数据\n    async getMovieDetail() {\n      const {\n        data: {\n          movieDetailData\n        }\n      } = await this.$http.get(`/movieDetail/${this.id}`);\n      this.movieData = {\n        ...movieDetailData\n      };\n      console.log(this.movieData);\n    },\n    // 点击特惠购票触发\n    async toSelectCinema() {\n      await this.$router.push({\n        path: `/planDetail`,\n        query: {\n          movieId: this.id\n        }\n      });\n    }\n  },\n  created() {\n    this.getMovieDetail();\n  }\n};","map":{"version":3,"mappings":";AAuDA;AACA;AAEA;EACAA;EACAC;IACAC;IACAC;EACA;EACAC;EACAC;IACA;MACAC;MACAC;MACA;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACA;IACAC;MACA;IACA;IACA;IACA;MACA;QACAP;UAAAQ;QAAA;MACA;MACA;QAAA;MAAA;MACAC;IACA;IACA;IACA;MACA;QACAC;QACAC;UACAC;QACA;MACA;IACA;EACA;EACAC;IACA;EACA;AACA","names":["name","components","TopBar","BackTop","props","data","planId","movieData","planData","computed","nowDay","methods","backIconClick","movieDetailData","console","path","query","movieId","created"],"sourceRoot":"src/views","sources":["MovieDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"movieDetail\">\r\n    <!-- 顶部topBar部分 -->\r\n    <TopBar\r\n        bgc=\"rgb(76, 106, 114)\"\r\n        centerContent=\"电影\"\r\n        cor=\"#FFF\"\r\n        @backIconClick=\"backIconClick\"\r\n    >\r\n    </TopBar>\r\n    <!-- 中间主体内容部分 -->\r\n    <div class=\"main\" v-if=\"movieData\">\r\n      <!-- 电影展示部分 -->\r\n      <div class=\"movie-show\">\r\n        <!-- 电影图片部分 -->\r\n        <div class=\"movie-image\">\r\n          <img :src=\"movieData.icon\"/>\r\n        </div>\r\n        <!-- 电影信息部分 -->\r\n        <div class=\"movie-info\">\r\n          <!-- 电影名字 -->\r\n          <div class=\"movie-name\">\r\n            <p>{{ movieData.name }}</p>\r\n          </div>\r\n          <!-- 电影详情 -->\r\n          <div class=\"movie-detail\">\r\n\r\n            <span>主演:{{ movieData.actor }}</span>\r\n            <p>\r\n              <span v-if=\"movieData.category\" class=\"ellipsis\">\r\n                {{ movieData.category.toString() }}\r\n              </span>\r\n              <span class=\"ellipsis\">{{ movieData.language }}</span>\r\n            </p>\r\n            <p>{{ movieData.inDate}}上映</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- 电影简介 -->\r\n      <div class=\"movie-desc\">\r\n        <h3>简介</h3>\r\n        {{movieData.plans[0].outDate}}\r\n        <p>{{ movieData.introduce }}</p>\r\n        {{nowDay}}\r\n        {{movieData.plans[0].outDate}}\r\n      </div>\r\n    </div>\r\n    <!-- 底部特惠购票部分 -->\r\n    <div class=\"footer\" >\r\n      <span v-if=\"movieData.plans.length < nowDay\" @click.stop=\"toSelectCinema()\">特惠购票</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopBar from \"@/components/TopBar\";\r\nimport BackTop from \"@/components/BackTop\";\r\n\r\nexport default {\r\n  name: \"MovieDetail\",\r\n  components: {\r\n    TopBar,\r\n    BackTop,\r\n  },\r\n  props: [\"id\"],\r\n  data() {\r\n    return {\r\n      planId:\"\",\r\n      movieData: {},\r\n      //电影详情数据\r\n      planData: {},\r\n    };\r\n  },\r\n  computed:{\r\n    nowDay:function (){\r\n      return new Date();\r\n    }\r\n  },\r\n  methods: {\r\n    // 顶部返回按钮点击触发\r\n    backIconClick() {\r\n      this.$router.back();\r\n    },\r\n    // 获取电影详情数据\r\n    async getMovieDetail() {\r\n      const {\r\n        data: { movieDetailData },\r\n      } = await this.$http.get(`/movieDetail/${this.id}`);\r\n      this.movieData = { ...movieDetailData };\r\n      console.log(this.movieData)\r\n    },\r\n    // 点击特惠购票触发\r\n    async toSelectCinema() {\r\n      await this.$router.push({\r\n        path: `/planDetail`,\r\n        query: {\r\n          movieId: this.id,\r\n        },\r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    this.getMovieDetail();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// 外部盒子样式\r\n.movieDetail {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: rgb(76, 106, 114);\r\n}\r\n\r\n// 内容主体部分\r\n.main {\r\n  margin: 3.5385rem 0;\r\n  padding: 1rem;\r\n  // 电影展示部分\r\n  .movie-show {\r\n    margin-bottom: 0.7692rem;\r\n    text-align: left;\r\n    display: flex;\r\n    // 电影图片部分\r\n    .movie-image {\r\n      width: 50%;\r\n      img {\r\n        border-radius: 0.7692rem;\r\n        width: 100%;\r\n      }\r\n    }\r\n\r\n    // 电影信息部分\r\n    .movie-info {\r\n      color: #9bacb3;\r\n      width: 70%;\r\n      padding: 0 0.7692rem;\r\n      // 电影标题部分\r\n      .movie-name {\r\n        margin-bottom: 0.3692rem;\r\n        //height: 40%;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-between;\r\n        p:nth-child(1) {\r\n          //overflow: hidden;\r\n          //text-overflow:ellipsis;\r\n          //white-space: nowrap;\r\n          color: #ffffff;\r\n          font-size: 1.8rem;\r\n        }\r\n      }\r\n\r\n      // 电影详情部分\r\n      .movie-detail {\r\n        height: 40%;\r\n        p:nth-child(2){\r\n          margin-top: 0.55rem;\r\n          span:nth-child(2){\r\n            float: right;\r\n            margin-right: 2.26rem;\r\n            color: rgb(240, 239, 239);\r\n            //font-size: 1rem;\r\n            //background-color: #354e55;\r\n            //border-radius: 0.3846rem;\r\n          }\r\n        }\r\n        p:nth-child(3){\r\n          height: 30%;\r\n          margin-top: 0.55rem;\r\n          float: bottom;\r\n          color: #ffffff;\r\n        }\r\n        //span:nth-child(1) {\r\n        //  margin-right: 0.7692rem;\r\n        //}\r\n\r\n\r\n        //p {\r\n        //  margin-top: 0.3846rem;\r\n        //}\r\n      }\r\n\r\n      // 兴趣部分\r\n      .interesting {\r\n        height: 25%;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        padding-top: 0.6154rem;\r\n\r\n        div {\r\n          height: 100%;\r\n          width: 45%;\r\n          background-color: #6d858b;\r\n          border-radius: 0.7692rem;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          color: #ffffff;\r\n\r\n          span:nth-child(2) {\r\n            margin-left: 0.3846rem;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // 电影简介部分\r\n  .movie-desc {\r\n    color: #ffffff;\r\n    text-align: justify;\r\n    padding: 1.1538rem;\r\n    background-color: #314c53;\r\n    border-radius: 0.7692rem;\r\n\r\n    h3 {\r\n      margin-bottom: 1.1538rem;\r\n    }\r\n\r\n    p {\r\n      line-height: 1.3077rem;\r\n    }\r\n  }\r\n\r\n}\r\n\r\n// 底部TabBar\r\n.footer {\r\n  border-radius: 0.7692rem 0.7692rem 0 0;\r\n  position: fixed;\r\n  bottom: 0;\r\n  //background-color: #ffffff;\r\n  height: 4.5rem;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n  span {\r\n    width: 95%;\r\n    color: #ffffff;\r\n    font-size: 1.5385rem;\r\n    padding: 0.7692rem 0;\r\n    border-radius: 1.5385rem;\r\n    background-color: #009c7f;\r\n  }\r\n}\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}